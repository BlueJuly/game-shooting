package  {	import flash.display.MovieClip;	import flash.events.MouseEvent;	import flash.media.Sound;    import flash.media.SoundChannel;	public class Main extends MovieClip{						public var My_logic:Logic;		public var My_logic2:Logic2;		public var main_state:int;		public var score:int;		public var loadingmusic;		public var m1music;		public var m2music;		var myChannel:SoundChannel = new SoundChannel();		public function Main() {			init();		}				private function init():void{						stage.color = 0xcccccc;			loadingmusic = new loadingMusic();			m1music = new m1Music();			m2music = new m2Music();            myChannel = loadingmusic.play(0,10000);			//loadingmusic.play(0,10000);			gotoAndStop(1);			main_state = 1;			tutorial_B.addEventListener(MouseEvent.CLICK, introGame);			start_B.addEventListener(MouseEvent.CLICK, startGame);					}				private function init1():void{			var current_socre:int = score;			gotoAndStop(4);			main_state = 4;			stage.color = 0xcccccc;			myChannel.stop();			myChannel = m2music.play(0,10000);			My_logic2 = new Logic2(this);			restart_B.addEventListener(MouseEvent.CLICK, restartGame);			back_B.addEventListener(MouseEvent.CLICK, backpage2);			score = current_socre;								}				private function introGame(e:MouseEvent):void{			gotoAndStop(2);			main_state = 2;			back_B.addEventListener(MouseEvent.CLICK, backpage);			back_B.x = 400;			back_B.y = 450;		}				private function backpage(e:MouseEvent):void{			init();		}		private function backpage1(e:MouseEvent):void{			init();			My_logic.txt_score.visible = false;		}		private function backpage2(e:MouseEvent):void{			init();			My_logic2.txt_score.visible = false;		}				private function nextGame(e:MouseEvent):void{						main_state = 4;			init1();			My_logic.txt_score.visible = false;		}				private function startGame(e:MouseEvent):void{			gotoAndStop(3);			main_state = 3;			//loadingmusic.stop();			game_init();			restart_B.addEventListener(MouseEvent.CLICK, restartGame);			back_B.addEventListener(MouseEvent.CLICK, backpage1);			next_B.addEventListener(MouseEvent.CLICK, nextGame);		}		private function restartGame(e:MouseEvent):void{			score = 0;			if(main_state == 3){				gotoAndStop(3);				game_init();				restart_B.addEventListener(MouseEvent.CLICK, restartGame);				back_B.addEventListener(MouseEvent.CLICK, backpage);				next_B.addEventListener(MouseEvent.CLICK, nextGame);			}			if(main_state == 4){				gotoAndStop(4);				init1();				restart_B.addEventListener(MouseEvent.CLICK, restartGame);				back_B.addEventListener(MouseEvent.CLICK, backpage);							}		}						private function game_init():void{			myChannel.stop();			myChannel = m1music.play(0,10000);			My_logic = new Logic(this);		}	}	}